What has changed
The v2 version of the Assistants API contains the following changes:

Tool rename: The retrieval tool has been renamed to the file_search tool
Files belong to tools: Files are now associated with tools instead of Assistants and Messages. This means that:
AssistantFile and MessageFile objects no longer exist.
Instead of AssistantFile and MessageFile, files are attached to Assistants and Threads using the new tool_resources object.
The tool_resources for the code interpreter tool are a list of file_ids.
The tool_resources for the file_search tool are a new object called a vector_stores.
Messages now have an attachments, rather than a file_ids parameter. Message attachments are helpers that add the files to a Thread’s tool_resources.
V1 Assistant
{
"id": "asst_abc123",
"object": "assistant",
"created_at": 1698984975,
"name": "Math Tutor",
"description": null,
"model": "gpt-4-turbo",
"instructions": "You are a personal math tutor. When asked a question, write and run Python code to answer the question.",
"tools": [{ "type": "code_interpreter" }],
"file_ids": [],
"metadata": {}
}
V2 Assistant
{
"id": "asst_abc123",
"object": "assistant",
"created_at": 1698984975,
"name": "Math Tutor",
"description": null,
"model": "gpt-4-turbo",
"instructions": "You are a personal math tutor. When asked a question, write and run Python code to answer the question.",
"tools": [
  {
    "type": "code_interpreter"
  },
  {
    "type": "file_search"
  }
],
"tool_resources": {
  "file_search": {
    "vector_store_ids": ["vs_abc"]
  },
  "code_interpreter": {
    "file_ids": ["file-123", "file-456"]
  }
}
}
Assistants have tools and tool_resources instead of file_ids. The retrieval tool is now the file_search tool. The tool_resource for the file_search tool is a vector_store.

V1 Thread
{
"id": "thread_abc123",
"object": "thread",
"created_at": 1699012949,
"metadata": {}
}
V2 Thread
{
"id": "thread_abc123",
"object": "thread",
"created_at": 1699012949,
"metadata": {},
"tools": [
  {
    "type": "file_search"
  },
  {
    "type": "code_interpreter"
  }
],
"tool_resources": {
  "file_search": {
    "vector_store_ids": ["vs_abc"]
  },
  "code_interpreter": {
    "file_ids": ["file-123", "file-456"]
  }
}
}
Threads can bring their own tool_resources into a conversation.

V1 Message
{
"id": "msg_abc123",
"object": "thread.message",
"created_at": 1698983503,
"thread_id": "thread_abc123",
"role": "assistant",
"content": [
  {
    "type": "text",
    "text": {
      "value": "Hi! How can I help you today?",
      "annotations": []
    }
  }
],
"assistant_id": "asst_abc123",
"run_id": "run_abc123",
"metadata": {},
"file_ids": []
}
V2 Message
{
"id": "msg_abc123",
"object": "thread.message",
"created_at": 1698983503,
"thread_id": "thread_abc123",
"role": "assistant",
"content": [
  {
    "type": "text",
    "text": {
      "value": "Hi! How can I help you today?",
      "annotations": []
    }
  }
],
"assistant_id": "asst_abc123",
"run_id": "run_abc123",
"metadata": {},
"attachments": [
  {
    "file_id": "file-123",
    "tools": [
      { "type": "file_search" },
      { "type": "code_interpreter" }
    ]
  }
]
}
Messages have attachments instead of file_ids. attachments are helpers that add files to the Thread’s tool_resources.

All v1 endpoints and objects for the Assistants API can be found under the Legacy section of the API reference.

Accessing v1 data in v2
To make your migration simple between our v1 and v2 APIs, we automatically map AssistantFiles and MessageFiles to the appropriate tool_resources based on the tools that are enabled in Assistants or Runs these files are a part of.

v1 version	v2 version
AssistantFiles for code_interpreter	file_ids on Assistant	Files in an Assistant’s tool_resources.code_interpreter
AssistantFiles for retrieval	file_ids on Assistant	Files in a vector_store attached to an Assistant (tool_resources.file_search)
MessageFiles for code_interpreter	file_ids on Message	Files in an Thread’s tool_resources.code_interpreter
MessageFiles for retrieval	file_ids on Message	Files in a vector_store attached to a Thread (tool_resources.file_search)
It's important to note that while file_ids from v1 are mapped to tool_resources in v2, the inverse is not true. Changes you make to tool_resources in v2 will not be reflected as file_ids in v1.

Because Assistant Files and Message Files are already mapped to the appropriate tool_resources in v2, when you’re ready to migrate to v2 you shouldn't have to worry about a data migration. Instead, you only need to:

Update your integration to reflect the new API and objects. You may need to do things like:
Migrate to creating vector_stores and using file_search, if you were using the retrieval tool. Importantly, since these operations are asynchronous, you’ll want to ensure files are successfully ingested by the vector_stores before creating run.
Migrate to adding files to tool_resources.code_interpreter instead of an Assistant or Message’s files, if you were using the code_interpreter tool.
Migrate to using Message attachments instead of file_ids.
Upgrade to the latest version of our SDKs